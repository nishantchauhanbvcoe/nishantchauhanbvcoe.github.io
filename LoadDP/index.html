<!DOCTYPE html> 
<html lang="en"> 
<head>
    <meta charset="UTF-8">
    <meta name="theme-color" content="rgba(0, 0, 0, 0.84)">
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro|Indie+Flower|Open+Sans|Ubuntu|Roboto+Mono&display=swap" rel="stylesheet">
    <title>LoadDP</title>
</head>
<style type="text/css" media="screen">
   @-webkit-keyframes heaven2hell{0%{transform:translateY(-1rem) scaleX(0.9);opacity:0}80%{transform:translateY(0.1rem) scaleX(1.05);opacity:.8}100%{opacity:1;transform:translateY(0) scaleX(1)}}@keyframes heaven2hell{0%{transform:translateY(-1rem) scaleX(0.9);opacity:0}80%{transform:translateY(0.1rem) scaleX(1.05);opacity:.8}100%{opacity:1;transform:translateY(0) scaleX(1)}}*,*::after,*::before{margin:0;padding:0;box-sizing:inherit}html{font-size:62.5}.header_themeswitch{font-size:1.3rem}.switchbtn{background-color:black;color:#00FF00;font-family:monospace}.searchbox_selector{padding-left:1rem}.searchbox_input{text-align:left}.search_content{font-size:2rem}.userinfo{font-size:1.4rem;font-family:'Roboto Mono', monospace}@media only screen and (max-width: 900px){.userinfo{font-size:1.1rem}}.downloadTXT{font-size:2.6rem;color:white;transform:scaleY(0.9);font-family:'Source Sans Pro', source-sans-pro, sans-serif;transition:all .4s ease-in ease-out}.downloadbtn_container{text-decoration:none}.downloadbtn_container:active .downloadTXT{font-size:2.47rem}.downloadbtn_container:active .downloadSVGmain{width:2.4rem;height:auto}.explaintxt{font-size:1.4rem;font-family:'Roboto Mono', 'Ubuntu', sans-serif}@media only screen and (max-width: 900px){.explaintxt_enjoy{font-size:1rem}}@media only screen and (max-width: 900px){.explaintxt_lorem{font-size:1.4rem}}@media only screen and (max-width: 360px){.explaintxt_lorem{font-size:.7rem}}.loremTXT{color:rgba(0,0,0,0.96);background-image:repeating-linear-gradient(to bottom right, rgba(82,82,82,0.17), rgba(227,227,227,0.32))}.ipAddress_main{font-size:calc(1.4rem + 2px);font-weight:600}.footer{font-family:monospace}.footer_a_ele{text-decoration:none;font-size:1rem;color:rgba(0,0,0,0.78)}.footer_b_ele{font-size:.8rem;cursor:none}.small-padding{padding:.2rem !important}.large-padding{padding:.3rem .5rem !important}.grey-background-dark{background-color:#e0e0e0 !important}.grey-background-light{background-color:#f2f2f2 !important}.box-grey-outline{border:0.3rem solid #e0e0e0 !important}.box-greyDark-outline{border:0.3rem solid rgba(34,32,32,0.45) !important}.blue-background-light{background-color:rgba(32,152,245,0.94) !important}.blue-background-light:hover{background-color:rgba(49,144,255,0.99) !important}.open-sans-Font{font-family:'Open Sans', open-sans,monospace,sans-serif !important}.indie-flower-Font{font-family:'Indie Flower', cursive,sans-serif !important}.breaks{color:aqua !important;background-color:#585849 !important;margin:auto !important}.blur-border-around{box-shadow:4px 4px 4px rgba(126,126,126,0.45) !important}.dark-color-mode{background-color:black !important;color:#00FF00 !important;font-family:monospace !important}.light-color-mode{background-color:#eaeaea !important;color:rgba(34,36,34,0.84) !important;font-family:monospace !important}.btn-click-light:active{background-color:rgba(218,222,242,0.9) !important}.btn-click-dark:active{background-color:rgba(34,32,32,0.45) !important}.switchbtn{cursor:pointer;transition:all .4s;-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden}.switchbtn:active{transform:scaleX(0.95);top:2px}.searchbox_selector,.searchbox_go{cursor:pointer}.searchbox_go:active .search_logo{transform:scale(0.8)}.footer_a_ele{cursor:pointer;transition:all .5s}.footer_a_ele:hover{color:rgba(116,42,93,0.84);text-transform:uppercase;transform:translateY(-1px);text-shadow:1px 1px rgba(128,56,105,0.19),-2px -2px rgba(116,42,93,0.22),0 -2px rgba(116,42,93,0.23),-2px 0 rgba(116,42,93,0.26)}.header_logo{width:30%;height:auto;-webkit-animation:heaven2hell 0.7s cubic-bezier(0.54, -0.07, 0.67, 1.18);animation:heaven2hell 0.7s cubic-bezier(0.54, -0.07, 0.67, 1.18)}@media only screen and (max-width: 360px){.header_logo{height:3rem !important;width:auto}}.switch_logo{width:1.3rem;height:auto;margin-bottom:-1px}.instapng{width:2.5rem;height:auto;background-color:#dd2a7b;border-radius:6px}.instapng_alter{width:1.8rem}.arrowSVG{width:2.1rem;height:auto;transition:all 0.4s cubic-bezier(0.54, -0.07, 0.67, 1.18)}.search_logo{opacity:.8;width:2.3rem;height:auto}.downloadSVG_main{width:2.6rem;height:auto;transition:all .4s ease-in ease-out}.search_content{border:0px solid;outline:none;opacity:.9;color:rgba(0,0,0,0.48);width:100%}.dropdown-content{display:none;position:absolute;font-family:monospace;transform:translateY(0.4rem)}.dropdown-content__ele{-webkit-clip-path:polygon(9% 16%, 76% 14%, 100% 15%, 100% 70%, 100% 100%, 50% 100%, 0 100%, 0% 70%, 0% 35%, 0 0);clip-path:polygon(9% 16%, 76% 14%, 100% 15%, 100% 70%, 100% 100%, 50% 100%, 0 100%, 0% 70%, 0% 35%, 0 0);box-shadow:0px 8px 16px 0px rgba(0,0,0,0.2);z-index:1;display:flex;justify-content:center;justify-items:center;align-items:flex-end;align-content:flex-end}.dropdown-content a{height:140%;color:black;background-color:white;padding:2.6px 3px;margin-top:.3rem;text-decoration:none;font-size:2rem}.dropdown-content a:hover{background-color:#959595;color:white}.searchbox_selector:hover .dropdown-content{display:block}.searchbox_selector:hover .arrowSVG{transform:rotate(-90deg)}.grid-box{background-color:#eaeaea;display:grid;grid-template-rows:1.5rem -webkit-max-content 1.5rem;grid-template-rows:1.5rem max-content 1.5rem;grid-template-columns:10% 80% 10%;width:100%;grid-gap:.2rem}.grid-box_main{grid-row:2 / 3;grid-column:2 / 3;background-color:white;padding:1rem 2rem 2rem 2rem}@media only screen and (max-width: 1150px){.grid-box_main{padding:1rem .8rem 2rem .8rem}}@media only screen and (max-width: 1250px){.grid-box{grid-template-rows:-webkit-max-content;grid-template-rows:max-content;grid-template-columns:-webkit-max-content;grid-template-columns:max-content;overflow:hidden}}.grid-box_main{display:grid;grid-template-rows:repeat(6, autofit);grid-template-columns:100%;grid-row-gap:3.2rem}@media only screen and (max-width: 1000px){.grid-box_main{grid-row-gap:2.2rem}}.header{display:grid;grid-template-rows:1fr;grid-template-columns:1fr 2fr 1fr;justify-items:center}@media only screen and (max-width: 1000px){.header{grid-template-columns:4fr 7fr 4fr}}@media only screen and (max-width: 360px){.header{grid-template-columns:1fr 1fr 1fr}}.header_logo{grid-column:2 / 3}.header_themeswitch{grid-column:3 / 4;align-self:center;justify-self:end}.header_themeswitch .switch_logo{margin-bottom:-.2rem}@media only screen and (max-width: 1000px){.header_themeswitch{margin-right:1rem}}.searchbox{margin:-1.4rem 13.2rem auto 13.2rem;display:grid;grid-template-rows:3.7rem;grid-template-columns:3fr 14fr 2fr}@media only screen and (max-width: 1000px){.searchbox{margin:-.4rem 3.2rem auto 3.2rem}}.searchbox_selector{grid-column:1 / 2}.searchbox_selector .select_inline{margin-top:.5rem;align-self:center;align-items:center;display:flex;justify-items:center;align-items:center;align-content:center}.searchbox_input{padding-left:1rem;grid-column:2 / 3;align-self:center}.searchbox_go{grid-column:3 / 4;display:flex;align-items:center;justify-content:center}.imageload{margin:auto 5rem;justify-self:center;display:grid;grid-template-columns:1fr;grid-template-rows:repeat(2, auto)}@media only screen and (max-width: 1250px){.imageload{margin:auto 3rem}}@media only screen and (max-width: 1150px){.imageload{margin:auto 0rem}}.imageload .userinfo{grid-row:1 / 2;padding-bottom:3.4rem;display:grid;grid-template-columns:1px 1fr 1fr 1px;grid-template-rows:repeat(5, auto-fit);grid-row-gap:1rem;grid-column-gap:.8rem}@media only screen and (max-width: 1250px){.imageload .userinfo{grid-template-columns:1px 1fr 1px;grid-template-rows:repeat(9, auto-fit)}}@media only screen and (max-width: 1000px){.imageload .userinfo{padding-bottom:1.4rem}}@media only screen and (max-width: 360px){.imageload .userinfo{padding:auto 3px auto 3px;grid-template-rows:repeat(9, auto-fit);grid-template-columns:1fr}}.imageload .userinfo>div{background-color:rgba(204,204,204,0.56);color:#393939;padding:.3rem 1rem}.imageload .userinfo__user-name{grid-column:2 / 3;grid-row:1 / 2}@media only screen and (max-width: 1250px){.imageload .userinfo__user-name{grid-column:2 / 3;grid-row:1 / 2}}@media only screen and (max-width: 360px){.imageload .userinfo__user-name{grid-column:1 / 2}}.imageload .userinfo__full-name{grid-column:3 / 4;grid-row:1 / 2}@media only screen and (max-width: 1250px){.imageload .userinfo__full-name{grid-column:2 / 3;grid-row:2 / 3}}@media only screen and (max-width: 360px){.imageload .userinfo__full-name{grid-column:1 / 2}}.imageload .userinfo__biography{grid-column:2 / 4;grid-row:2 / 3}@media only screen and (max-width: 1250px){.imageload .userinfo__biography{grid-column:2 / 3;grid-row:3 / 4}}@media only screen and (max-width: 360px){.imageload .userinfo__biography{grid-column:1 / 2}}.imageload .userinfo__followers{grid-column:2 / 3;grid-row:3/4}@media only screen and (max-width: 1250px){.imageload .userinfo__followers{grid-column:2 / 3;grid-row:4 / 5}}@media only screen and (max-width: 360px){.imageload .userinfo__followers{grid-column:1 / 2}}.imageload .userinfo__following{grid-column:3 / 4;grid-row:3 / 4}@media only screen and (max-width: 1250px){.imageload .userinfo__following{grid-column:2 / 3;grid-row:5 / 6}}@media only screen and (max-width: 360px){.imageload .userinfo__following{grid-column:1 / 2}}.imageload .userinfo__acc-privacy{grid-column:2 / 3;grid-row:4 / 5}@media only screen and (max-width: 1250px){.imageload .userinfo__acc-privacy{grid-column:2 / 3;grid-row:6 / 7}}@media only screen and (max-width: 360px){.imageload .userinfo__acc-privacy{grid-column:1 / 2}}.imageload .userinfo__media-upload{grid-column:3 / 4;grid-row:4 / 5}@media only screen and (max-width: 1250px){.imageload .userinfo__media-upload{grid-column:2 / 3;grid-row:7 / 8}}@media only screen and (max-width: 360px){.imageload .userinfo__media-upload{grid-column:1 / 2}}.imageload .userinfo__ID{grid-column:2 / 4;grid-row:5 / 6}@media only screen and (max-width: 1250px){.imageload .userinfo__ID{grid-column:2 / 3;grid-row:8 / 9}}@media only screen and (max-width: 360px){.imageload .userinfo__ID{grid-column:1 / 2}}.imageload .fetchedIMG{grid-row:2 / 3;-o-object-fit:contain;object-fit:contain;width:auto;height:110vh;justify-self:center}@media only screen and (max-width: 1250px){.imageload .fetchedIMG{height:55rem;width:auto}}@media only screen and (max-width: 1000px){.imageload .fetchedIMG{height:50rem;width:auto}}@media only screen and (max-width: 900px){.imageload .fetchedIMG{height:40rem;width:auto}}@media only screen and (max-width: 360px){.imageload .fetchedIMG{height:auto;width:90%}}.downloadbtn{justify-self:center;display:grid;grid-template-rows:1fr;align-items:center;align-content:center}.downloadbtn_container{display:flex;flex-direction:row;flex-wrap:wrap;border-radius:.25rem;cursor:pointer}.explaintxt{display:flex;flex-direction:column}.explaintxt_ip{display:flex;flex-direction:row;justify-content:center;justify-items:center;align-items:flex-end}.explaintxt_lorem{margin:2.6rem 9.5% 1.7rem 9.5%;padding:1% .5%}@media only screen and (max-width: 900px){.explaintxt_lorem{margin:1.6rem 1.5% 1.7rem 1.5%}}@media only screen and (max-width: 360px){.explaintxt_lorem{margin:1.6rem .2% 1.7rem .2%;padding:1% .1%}}.explaintxt_enjoy{margin:auto 18%}@media only screen and (max-width: 900px){.explaintxt_enjoy{margin:auto 12%}}@media only screen and (max-width: 360px){.explaintxt_enjoy{margin:auto 1rem}}.footer_a{display:grid;grid-template-rows:1fr;grid-template-columns:2fr repeat(4, -webkit-max-content) 2fr;grid-template-columns:2fr repeat(4, max-content) 2fr;justify-items:center}@media only screen and (max-width: 1000px){.footer_a{grid-template-columns:1fr repeat(4, -webkit-max-content) 1fr;grid-template-columns:1fr repeat(4, max-content) 1fr}}@media only screen and (max-width: 720px){.footer_a{grid-template-columns:10px repeat(4, -webkit-max-content) 10px;grid-template-columns:10px repeat(4, max-content) 10px}}.footer_a_ele{margin:.1rem 1.3rem}.footer_a_a{grid-column:2 / 3}.footer_a_b{grid-column:3 / 4}.footer_a_c{grid-column:4 / 5}.footer_a_d{grid-column:5 / 6}.footer_b{display:grid;grid-template-rows:1fr;grid-template-columns:3fr repeat(3, -webkit-max-content) 3fr;grid-template-columns:3fr repeat(3, max-content) 3fr;margin-bottom:-1rem}.footer_b_ele{margin:.2rem .3rem auto .3rem}.footer_b_a{grid-column:2 / 3}.footer_b_b{grid-column:3 / 4}.footer_b_c{grid-column:4 / 5}

</style>
<body value="1" class="themeVal"><!-- Dark=0  Light=1-->

    <div class="grid-box">
        <div class="grid-box_main">

            <!-- Header (logo + night/day mode) -->
            <div class="grid-box_main__ele header">
                <img src="resources/images/logo.png" class="header_logo">
                <div class="header_themeswitch">
                    <div class="switchbtn small-padding dark-color-mode">
                        <img class="switch_logo" src="resources/svg/moon-outline.svg" onerror="this.src='resources/images/moon-outline.png'">&nbsp;Night&nbsp;Mode
                    </div>
                </div>
            </div>


            <!-- Search bar -->
            <div class="grid-box_main__ele searchbox box-grey-outline">
                <!--Use .getAttribue('value')-->
                <div class="searchbox_selector grey-background-dark" value="Insta">
                    <div class="select_inline">
                        <img src="resources/images/insta.png" class="instapng">&nbsp;&nbsp;<img src="resources/svg/ios-arrow-back.svg" class="arrowSVG">
                    </div>
                    <div class="dropdown-content">
                        <a href="#" class="dropdown-content__ele dropdown-content__elea"><img src="resources/images/insta.png" class="instapng_alter">&nbsp;Instagram</a>
                        <a href="#" class="dropdown-content__ele dropdown-content__eleb"><img src="resources/images/facebook.png" class="instapng_alter">&nbsp;facebook</a>
                        <!--    
                                <a href="#">About</a>
                                <a href="#">Settings</a> 
                         -->
                    </div>
                </div>

                <div class="searchbox_input">
                    <input class="search_content" placeholder="e.g. : johnwick54497" required>
                </div>

                <div class="searchbox_go grey-background-light">
                    <img src="resources/svg/ios-search.svg" class="search_logo">
                </div>

            </div>


            <div class="grid-box_main__ele imageload" value="0">
            </div>


            <!-- Download Button -->
            <div class="grid-box_main__ele downloadbtn">

            </div>


            <!-- Lorem ipsum... -->
            <div class="grid-box_main__ele explaintxt">
                <div class="ipAddress open-sans-Font explaintxt_ip">
                    <div class="ipAddressTXT">
                        Your IP Address is:&nbsp;
                    </div>
                    <div class="ipAddress_main"> Fetching...Please Wait</div>
                </div>
                <blockquote class="loremTXT explaintxt_lorem indie-flower-Font">
                    &ldquo;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Repellendus, vel voluptas iste magni atque eius fuga veniam, ut quibusdam eligendi ea culpa nisi reiciendis! Fuga soluta sequi eum ullam cupiditate.&rdquo;
                </blockquote>
                <div class="enjoyTXT explaintxt_enjoy">
                    The Display Picture(DP) is fetched in the best available quality.
                    <br><br>
                    This service is free and does not require any software or registration.
                    <br><br>
                    Enjoy! We hope you like our service.
                    <br>
                </div>

            </div>


            <!-- Footer(terms|contact|privacy..  +  all rights reserved) -->
            <div class="grid-box_main__ele footer">
                <hr size=3.5% width=81% class="breaks">
                <div class="footer_a">
                    <a href="https://www.instagram.com/nishantchauhanbvcoe/" class="footer_a_ele footer_a_a" id="footer_a_eleid">Terms Of Use</a>
                    <a href="https://www.instagram.com/nishantchauhanbvcoe/" class="footer_a_ele footer_a_b" id="footer_a_eleid">Privacy Policy</a>
                    <a href="https://www.instagram.com/nishantchauhanbvcoe/" class="footer_a_ele footer_a_c" id="footer_a_eleid">Contact</a>
                    <a href="https://www.instagram.com/nishantchauhanbvcoe/" class="footer_a_ele footer_a_d" id="footer_a_eleid">About</a>
                </div>
                <div class="footer_b">
                    <div class="footer_b_ele footer_b_a" title="It doesn&rsquo;t stand for anything. Like IBM. Does IBM stand for anything?">&copy;2019,&nbsp;</div>
                    <div class="footer_b_ele footer_b_b" title="It doesn&rsquo;t stand for anything. Like IBM. Does IBM stand for anything?">AEY Inc.&nbsp;</div>
                    <div class="footer_b_ele footer_b_c" title="It doesn&rsquo;t stand for anything. Like IBM. Does IBM stand for anything?">All Rights Reserved</div>
                </div>
            </div>

        </div>
    </div>

</body>

<script type="text/javascript">
//Main Controller
var mainController = (function () {

    //Edit Classnames here if any changed in html file
    var stringContainer = {
        themeVal: '.themeVal',
        grid_box: '.grid-box',
        userinfo: '.userinfo',
        grid_box_main: '.grid-box_main',
        loremTXT: '.loremTXT',
        searchbox_selector: '.searchbox_selector',
        imageload: '.imageload',
        downloadbtn: '.downloadbtn',
        search_content: '.search_content',
        searchbox_go: '.searchbox_go',
        ipAddress_main: '.ipAddress_main',
        search_content: '.search_content',
        imageload: '.imageload',
        themeVal: '.themeVal',
        switchbtn: '.switchbtn',
        header_themeswitch: '.header_themeswitch',
        footer_a_ele: '.footer_a_ele'

    };

    var sourcesContainer = {
        downloadbtnSVG: "resources/svg/ios-download.svg"
    };

    return {
        stringpass: function () {
            return stringContainer;
        },
        sourcespass: function () {
            return sourcesContainer;
        }
    };
})();




//Fetched Image + Data Controller
var image_controller = (function (mainCtrl, themeCtrl) {

    var strings = mainCtrl.stringpass();
    var sources = mainCtrl.sourcespass();

    //Instagram
    async function apiInsta(user) {

        //Fetching ID
        const fetchInsta = await fetch(`https://www.instagram.com/${user}/?__a=1`);
        const fetchInstajson = await fetchInsta.json();
        const ID = fetchInstajson.graphql.user.id;
        console.log(ID);

        ////////////////////////////DEPRECATED//////////////////////////////////////////
        //Fetching URL of Insta DP
        //const userInsta = await fetch(`https://i.instagram.com/api/v1/users/${ID}/info/`);
        //const userInstajson = await userInsta.json();
        //const userInstaURL = userInstajson.user.hd_profile_pic_url_info.url;
        //console.log(userInstaURL);
        /////////////////////////////////////////////////////////////

        //Fetch User Data
        const userInstaURL = fetchInstajson.graphql.user.profile_pic_url_hd;
        const userInstausername = 'Username: ' + `<b style="font-family: 'Roboto Mono', monospace;">${fetchInstajson.graphql.user.username}</b>`;
        const userInstafullname = 'Full Name: ' + `<b>${fetchInstajson.graphql.user.full_name}</b>`;
        const userInstabio = 'Biography: ' + `<b style="font-family: 'Ubuntu', sans-serif;">${fetchInstajson.graphql.user.biography}</b>`;
        const userInstafollowing = 'Following: ' + `<b>${fetchInstajson.graphql.user.edge_follow.count}</b>`;
        const userInstafollowers = 'Followers: ' + `<b>${fetchInstajson.graphql.user.edge_followed_by.count}</b>`;
        const userInstaID = 'Page ID: ' + `<b>${ID}</b>`;
        const userInstamedia = 'Posts: ' + `<b>${fetchInstajson.graphql.user.edge_owner_to_timeline_media.count}</b>`;
        var privacyTXT;
        if (fetchInstajson.graphql.user.is_private == true) {
            privacyTXT = 'PRIVATE'
        } else {
            privacyTXT = 'PUBLIC'
        }
        const userInstaprivacy = 'Account Privacy: ' + `<b>${privacyTXT}</b>`; //True for private

        //User Info Insertion into HTML
        var infoInsert = `<div class="userinfo"><div class="userinfo__user-name">${userInstausername}</div><div class="userinfo__full-name">${userInstafullname}</div><div class="userinfo__biography">${userInstabio}</div><div class="userinfo__followers">${userInstafollowers}</div><div class="userinfo__following">${userInstafollowing}</div><div class="userinfo__ID">${userInstaID}</div><div class="userinfo__acc-privacy">${userInstaprivacy}</div><div class="userinfo__media-upload">${userInstamedia}</div></div>`;
        document.querySelector(strings.imageload).insertAdjacentHTML('afterbegin', infoInsert);

        //Image Insertion into HTML
        var imageInsert = `<img src="${userInstaURL}" class="fetchedIMG blur-border-around">`;
        document.querySelector(strings.imageload).insertAdjacentHTML('beforeend', imageInsert);

        //Download Button Insertion into HTML
        var downloadbtnInsert = `<a class="downloadbtn_container blue-background-light large-padding" href=${userInstaURL} target="_blank" download="${userInstaURL}"><div class="downloadSVG"><img src=${sources.downloadbtnSVG} class="downloadSVG_main"></div>&nbsp;<div class="downloadTXT">OPEN</div></a>`;
        document.querySelector(strings.downloadbtn).insertAdjacentHTML('beforeend', downloadbtnInsert);


    }


    //Removing Previous Image + Data + Download button
    var removePrev = function () {
        var inforemove = document.querySelector('.userinfo');
        var imageremove = document.querySelector('.fetchedIMG');
        var downloadbtnremove = document.querySelector('.downloadbtn_container')
        inforemove.parentNode.removeChild(inforemove);
        imageremove.parentNode.removeChild(imageremove);
        downloadbtnremove.parentNode.removeChild(downloadbtnremove);

    }

    return {
        imgfuncpass: function () {
            var platform = document.querySelector(strings.searchbox_selector).getAttribute('value');
            var loadValue = document.querySelector(strings.imageload).getAttribute('value');

            if (loadValue == 1) {
                console.log(loadValue);
                removePrev();
            }

            //Sets imageLoad to 1

            if (platform == "Insta") {
                var username = document.querySelector(strings.search_content).value;
                apiInsta(username);
                document.querySelector(strings.imageload).setAttribute('value', 1);

                //Error Handling
                window.onerror = function () {
                    document.querySelector(strings.imageload).setAttribute('value', 0);
                }
            }
        }
    };
})(mainController, themeController);




//IP address controller
var ipcontroller = (function (mainCtrl) {

    var strings = mainCtrl.stringpass();

    //will not work with adblocker
    // ' ip ' is the IP address
    async function IPfetch() {
        //Fetching IP
        const fetchIP = await fetch(`https://api.ipify.org/?format=json`);
        const fetchIPjson = await fetchIP.json();
        const ip = fetchIPjson.ip;
        console.log(ip);

        document.querySelector(strings.ipAddress_main).textContent = ip;
    };

    return {
        ipfuncpass: function () {
            IPfetch();
        }
    };

})(mainController);




//Theme Switching
var themeController = (function (mainCtrl) {

    var strings = mainCtrl.stringpass();
    var sources = mainCtrl.sourcespass();

    var themeSwitch = function () {
        var themeValvar = document.querySelector(strings.themeVal);
        var themeValue = themeValvar.getAttribute('Value');
        const switchRemovevar = document.querySelector(strings.switchbtn);


        if (themeValue == 1) { //Light Mode to Dark Mode
            switchRemovevar.parentNode.removeChild(switchRemovevar);

            var themeSwitchInsert = `<div class="switchbtn small-padding light-color-mode"><img class="switch_logo" src="resources/svg/sun-outline.svg" onerror="this.src='resources/images/sun-outline.png'">&nbsp;Light&nbsp;Mode</div>`;
            document.querySelector(strings.header_themeswitch).insertAdjacentHTML('afterbegin', themeSwitchInsert);

            //Style Properties
            document.querySelector(strings.themeVal).style.setProperty('background-color', 'rgba(0, 0, 0)', "important");
            document.querySelector(strings.grid_box).style.setProperty('background-color', 'rgb(0, 0, 0)', "important");
            document.querySelector(strings.grid_box).style.setProperty('color', '#00FF00', "important");
            document.querySelector(strings.grid_box_main).style.setProperty('background-color', 'rgba(10, 10, 10, 0.71)', "important");
            document.querySelector(strings.loremTXT).style.setProperty('color', '#00FF00', "important");
            document.querySelector(strings.loremTXT).style.setProperty('background-image', 'repeating-linear-gradient(to bottom right, rgba(34, 32, 32, 0.19), rgba(83, 83, 83, 0.23))', "important");

            if (document.querySelector('.userinfo__ID') !== null) {
                document.querySelector('.userinfo__full-name').style.setProperty('color', '#00FF00', "important");
                document.querySelector('.userinfo__user-name').style.setProperty('color', '#00FF00', "important");
                document.querySelector('.userinfo__biography').style.setProperty('color', '#00FF00', "important");
                document.querySelector('.userinfo__followers').style.setProperty('color', '#00FF00', "important");
                document.querySelector('.userinfo__following').style.setProperty('color', '#00FF00', "important");
                document.querySelector('.userinfo__media-upload').style.setProperty('color', '#00FF00', "important");
                document.querySelector('.userinfo__ID').style.setProperty('color', '#00FF00', "important");
                document.querySelector('.userinfo__acc-privacy').style.setProperty('color', '#00FF00', "important");
                document.querySelector('.downloadSVG_main').src = '../resources/svg/ios-downloadGreen.svg';
                document.querySelector('.downloadTXT').style.setProperty('color', '#00FF00', "important");
                document.querySelector('.downloadbtn_container').style.setProperty('background-color', 'rgba(47, 47, 47, 0.44)', "important");
                document.querySelector('.downloadbtn_container').classList.remove('blue-background-light');
            }
            document.querySelector('.footer_a_a').style.setProperty('color', '#00FF00', "important");
            document.querySelector('.footer_a_b').style.setProperty('color', '#00FF00', "important");
            document.querySelector('.footer_a_c').style.setProperty('color', '#00FF00', "important");
            document.querySelector('.footer_a_d').style.setProperty('color', '#00FF00', "important");
            document.querySelector('.breaks').style.setProperty('background-color', '#00FF00', "important");
            document.querySelector('.dropdown-content__ele').classList.add("dropdown-content__elea");
            document.querySelector('.searchbox').classList.remove("box-grey-outline");
            document.querySelector('.searchbox').classList.add("box-greyDark-outline");
            document.querySelector('.searchbox_selector').classList.remove("grey-background-dark");
            document.querySelector('.searchbox_go').classList.remove("grey-background-light");
            document.querySelector('.searchbox').style.setProperty('background-color', 'rgba(34, 32, 32, 0.45)', "important");
            document.querySelector('.search_content').style.setProperty('background-color', 'rgba(20, 20, 20, 0)', "important");
            document.querySelector('.searchbox_input').style.setProperty('background-color', 'rgba(20, 20, 20, 0)', "important");

            document.querySelector('.search_content').style.setProperty('color', '#00FF00', "important");
            document.querySelector('.searchbox_go').classList.remove("btn-click-light");
            document.querySelector('.searchbox_go').classList.add("btn-click-dark");


        } else { // Dark Mode To Light Mode
            switchRemovevar.parentNode.removeChild(switchRemovevar);

            var themeSwitchInsert = `<div class="switchbtn small-padding dark-color-mode"><img class="switch_logo" src="resources/svg/moon-outline.svg" onerror="this.src='resources/images/moon-outline.png'">&nbsp;Night&nbsp;Mode</div>`;
            document.querySelector(strings.header_themeswitch).insertAdjacentHTML('afterbegin', themeSwitchInsert);

            //Style Properties
            document.querySelector(strings.themeVal).style.setProperty('background-color', 'white', "important");
            document.querySelector(strings.grid_box).style.setProperty('background-color', 'rgb(234, 234, 234)', "important");
            document.querySelector(strings.grid_box).style.setProperty('color', 'rgba(34, 36, 34, 0.84)', "important");
            document.querySelector(strings.grid_box_main).style.setProperty('background-color', 'rgb(255, 255, 255)', "important");
            document.querySelector(strings.loremTXT).style.setProperty('color', 'rgba(0, 0, 0, 0.96)', "important");
            document.querySelector(strings.loremTXT).style.setProperty('background-image', 'repeating-linear-gradient(to bottom right, rgba(82, 82, 82, 0.17), rgba(227, 227, 227, 0.32))', "important");

            if (document.querySelector('.userinfo__ID') !== null) {
                document.querySelector('.userinfo__full-name').style.setProperty('color', 'rgba(34, 36, 34, 0.84)', "important");
                document.querySelector('.userinfo__user-name').style.setProperty('color', 'rgba(34, 36, 34, 0.84)', "important");
                document.querySelector('.userinfo__biography').style.setProperty('color', 'rgba(34, 36, 34, 0.84)', "important");
                document.querySelector('.userinfo__followers').style.setProperty('color', 'rgba(34, 36, 34, 0.84)', "important");
                document.querySelector('.userinfo__following').style.setProperty('color', 'rgba(34, 36, 34, 0.84)', "important");
                document.querySelector('.userinfo__media-upload').style.setProperty('color', 'rgba(34, 36, 34, 0.84)', "important");
                document.querySelector('.userinfo__ID').style.setProperty('color', 'rgba(34, 36, 34, 0.84)', "important");
                document.querySelector('.userinfo__acc-privacy').style.setProperty('color', 'rgba(34, 36, 34, 0.84)', "important");
                document.querySelector('.downloadSVG_main').src = '../resources/svg/ios-download.svg';
                document.querySelector('.downloadTXT').style.setProperty('color', 'rgba(34, 36, 34, 0.84)', "important");
                document.querySelector('.downloadbtn_container').style.setProperty('background-color', 'rgba(32, 152, 245, 0.94)', "important");
                document.querySelector('.downloadbtn_container').classList.add('blue-background-light');
            }
            document.querySelector('.footer_a_a').style.setProperty('color', 'rgba(0, 0, 0, 0.78)', "important");
            document.querySelector('.footer_a_b').style.setProperty('color', 'rgba(0, 0, 0, 0.78)', "important");
            document.querySelector('.footer_a_c').style.setProperty('color', 'rgba(0, 0, 0, 0.78)', "important");
            document.querySelector('.footer_a_d').style.setProperty('color', 'rgba(0, 0, 0, 0.78)', "important");
            document.querySelector('.breaks').style.setProperty('background-color', '#585849', "important");

            document.querySelector('.searchbox').classList.remove("box-greyDark-outline");
            document.querySelector('.searchbox').classList.add("box-grey-outline");
            document.querySelector('.searchbox_selector').classList.add("grey-background-dark");
            document.querySelector('.searchbox_go').classList.add("grey-background-light");
            document.querySelector('.searchbox').style.setProperty('background-color', 'white', "important");
            document.querySelector('.search_content').style.setProperty('background-color', 'rgba(255, 255, 255, 0.97)', "important");
            document.querySelector('.searchbox_input').style.setProperty('background-color', 'rgba(255, 255, 255, 0.97)', "important");
            document.querySelector('.search_content').style.setProperty('color', 'rgba(0, 0, 0, 0.48)', "important");
            document.querySelector('.searchbox_go').classList.remove("btn-click-dark");
            document.querySelector('.searchbox_go').classList.add("btn-click-light");

        }
    }


    return {
        themefuncpass: function () {
            themeSwitch();
        }
    };
})(mainController);




//UI Controller
var uiController = (function (mainCtrl, imageCtrl, ipCtrl, themeCtrl) {

    var strings = mainCtrl.stringpass();

    //Initiates the code
    var starter = function () {
        //Focus On Input Box
        document.querySelector(strings.search_content).focus();

        //Search
        document.querySelector(strings.searchbox_go).addEventListener('click', imageCtrl.imgfuncpass);
        document.querySelector(strings.search_content).addEventListener('keypress', function (e) {
            if (e.which === 13 || e.keyCode === 13 || e.which === 9 || e.keyCode === 9 || e.which === 32 || e.keyCode === 32) {
                imageCtrl.imgfuncpass();

                //Focus on Image
                document.querySelector('.imageload').focus();
            }
        });

        //Theme Switch
        document.querySelector(strings.header_themeswitch).addEventListener('click', function () {
            themeCtrl.themefuncpass();
            var themeValvar = document.querySelector(strings.themeVal);
            var themeValue = themeValvar.getAttribute('Value');
            if (themeValue == 1) {
                themeValue = themeValvar.setAttribute('Value', 0);
            } else {
                themeValue = themeValvar.setAttribute('Value', 1);
            }
        });
    }

    return {
        init: function () {
            starter();
            ipCtrl.ipfuncpass();
        }
    }
})(mainController, image_controller, ipcontroller, themeController);

uiController.init();

</script>
</html> 
